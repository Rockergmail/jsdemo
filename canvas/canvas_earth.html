<!DOCTYPE html>
<html>
<head>
<style>
*{margin:0px;padding:0px;}
</style>
</head>
<body>
	<canvas id='canvas' width='300' height='300' style='background:#fff'></canvas>
<script>
var sun=new Image();
var earth=new Image();
var moon=new Image();

init();

function init(){
	moon.src='images/moon.png';
	earth.src='images/earth.png';
	sun.src='images/sun.png';
	//earth.onload=function(){draw();}
	setInterval(draw,100);
}

function draw(){
	var ctx=document.getElementById('canvas').getContext('2d');
	ctx.globalCompositeOperation = 'destination-over';
	ctx.fillStyle = 'rgba(0,0,0,0.4)';
  	ctx.strokeStyle = 'rgba(0,153,255,0.4)';
	ctx.clearRect(0,0,300,300);
  	ctx.save();
	ctx.translate(150,150);

  	//draw earth
  	var time=new Date();

  	ctx.rotate(((2*Math.PI)/60)*time.getSeconds() + ((2*Math.PI)/60000)*time.getMilliseconds());
  	ctx.translate(105,0);
	ctx.beginPath();//在这里要加这个，否则就是与下面的是同一路径，中心圆会覆盖颜色
	ctx.rect(0,-12.5,50,25);
  	ctx.fill();
	ctx.drawImage(earth,-12.5,-12.5);

  	//draw moon
	ctx.save();
	ctx.rotate(((2*Math.PI)/6)*time.getSeconds() + ((2*Math.PI)/6000)*time.getMilliseconds());
	ctx.translate(0,30);
	ctx.drawImage(moon,-2.5,-2.5);
	
	ctx.restore();
	ctx.restore();
	//draw guidao
	ctx.beginPath();
	ctx.arc(150,150,105,0,2*Math.PI);
	ctx.stroke();
	
	ctx.drawImage(sun,125,125);
}
</script>
</body>
</html>